title: JS巧妙运用||和&&运算符优化条件选择代码
date: 2015-08-08 10:48:09
tags: [js,代码优化,运算符,条件选择]
categories: [javascript,代码优化]
keywords: javascripts,js,逻辑运算符,代码优化,条件选择
---

&& 和 || 和其他编程语言一样，在`js`中同样是一个双目逻辑运算符，执行逻辑运算与和或。往往计算机在执行这两个逻辑运算的时候会有一个"惰性"的思维:

1. 在执行 `exp1 && exp2 && ... && expn`的时候,会从左到右依次判断表达式1,表达式2,...,表达式n,直到遇到第一个为`false`的时候,其表达式整体运算结果必定为`false`,那么后面的所有表达式都不会执行了;
2. 在执行 `exp1 || exp2 || ... || expn`会从左到右以此判断表达式1,表达式2,...,表达式n,直到遇到第一个为`true`的时候,其表达式整体运算结果必定为`true`,那么后面的所有表达式都不会执行了.

那么,我们就可以利用这两点来简化代码中的`if...else`条件选择或者`?:`三目运算.来看下面的例子:
<!--more-->

经常会遇到当条件成立时候执行某个函数或者当条件不成立的时候执行某个函数,以前我们会写成这样:

```js
// 如果表表达式exp结果为true执行函数fun
if( exp ) {
  fun();
}

// 如果表达式exp结果为false执行函数fun
if( !exp ) {
  fun();
}
```
那么现在我们可以写成:
```
/** 如果表达式exp结果为true执行函数fun
* 根据上面第一条,如果exp表达式结果为false,那么结果必定为false,所以就不会执行fun
* 反之,exp为true的时候,不能判断整体结果为true还是false,所以计算机会继续执行fun
*/
exp && fun();

/** 如果表达式exp结果为false执行函数fun
* 根据上面第二条,如果exp表达式结果为true,那么结果必定为true,所以就不会执行fun
* 反之,exp为false的时候,不能判断整体结果为ture还是false,所以计算机会继续执行fun
*/
exp || fun();
```